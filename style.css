/* ====== Base ====== */
:root{
  --bg:#0f172a;           /* sidebar fondo */
  --bg-2:#0b1223;         /* sidebar dark */
  --panel:#0b1223;
  --text:#e2e8f0;
  --muted:#94a3b8;
  --accent:#2563eb;       /* botones */
  --accent-2:#1e40af;
  --ok:#16a34a;
  --danger:#dc2626;
  --card:#0b1223;
  --surface:#0b1223;
  --ring:rgba(37,99,235,.35);
  --border:rgba(148,163,184,.16);
  --shadow:0 4px 16px rgba(0,0,0,.25);
  --radius:14px;
}

*{box-sizing:border-box}
html,body{height:100%}
body.petpos-body{
  margin:0; display:flex; color:var(--text);
  background:#0a0f1f; font:16px/1.35 system-ui,Segoe UI,Roboto,Ubuntu;
}

/* ====== Sidebar ====== */
.petpos-sidebar{
  width:270px; min-width:270px; background:var(--bg);
  border-right:1px solid var(--border);
  position:sticky; top:0; height:100vh; padding:16px 12px 20px;
  display:flex; flex-direction:column; gap:16px; overflow:hidden;
}
.petpos-sidebar.collapsed{ width:84px; min-width:84px; }
.petpos-sidebar .collapse-btn{
  margin-top:auto; border:1px solid var(--border); background:#0b1223;
  color:var(--text); padding:10px 12px; border-radius:10px; cursor:pointer;
}
.petpos-brand{display:flex; align-items:center; gap:10px; padding:4px 8px}
.brand-logo{width:32px; height:32px; border-radius:8px; object-fit:cover; background:#111827}

.petpos-nav{display:flex; flex-direction:column; gap:8px; padding:4px}
.nav-link{
  --pad:12px;
  display:flex; align-items:center; gap:10px;
  padding:10px var(--pad); height:44px;
  color:var(--text); text-decoration:none; border-radius:12px;
  border:1px solid transparent; position:relative;
  background:transparent; white-space:nowrap; overflow:hidden;
}
.nav-link::before{
  content: attr(data-icon); opacity:.95; font-size:18px;
}
.nav-link.active{
  background:linear-gradient(180deg, rgba(37,99,235,.15), rgba(37,99,235,.07));
  border-color:var(--ring); box-shadow:0 0 0 2px var(--ring) inset;
}
.petpos-sidebar.collapsed .nav-link{ justify-content:center; padding:10px 0 }
.petpos-sidebar.collapsed .nav-link span{ display:none }

/* PREVENIR QUE EL ACTIVO “SE SALGA” DEL CONTORNO */
.petpos-nav{overflow-x:hidden}
.nav-link{contain:layout paint; max-width:100%}

/* ====== Main ====== */
.petpos-main{ flex:1; padding:24px; overflow:auto }
.view{ display:none; max-width:1400px; margin:0 auto }
.view.visible{ display:block }

.sec-title{margin:8px 0 12px; font-weight:700}

/* ====== Cards / dashboard ====== */
.cards{ display:grid; gap:16px; grid-template-columns:repeat(auto-fit,minmax(220px,1fr)); }
.kcard{ background:var(--panel); border:1px solid var(--border); border-radius:var(--radius); padding:16px; box-shadow:var(--shadow) }
.knum{ font-size:28px; font-weight:800 }
.klabel{ color:var(--muted) }

/* ====== Ventas ====== */
.ventas-bar{ display:grid; gap:10px; grid-template-columns:1.2fr .6fr .35fr .35fr .25fr; align-items:center; margin-bottom:10px }
.input{
  background:#0b1223; color:var(--text); border:1px solid var(--border);
  border-radius:12px; padding:10px 12px; height:44px; outline:none;
}
.input:focus{ box-shadow:0 0 0 2px var(--ring); border-color:var(--ring) }

.btn{ border:1px solid transparent; border-radius:12px; padding:10px 14px; cursor:pointer }
.btn.primary{ background:var(--accent); color:#fff; }
.btn.primary:hover{ background:var(--accent-2) }
.btn.ghost{ background:#0b1223; color:var(--text); border-color:var(--border) }
.btn.danger{ background:var(--danger); color:#fff }
.btn.danger.outline{ background:transparent; color:#fff; border-color:rgba(220,38,38,.5) }

.ventas-layout{ display:grid; grid-template-columns:1fr 420px; gap:16px }
@media (max-width: 1200px){ .ventas-layout{ grid-template-columns:1fr 380px } }
@media (max-width: 992px){ .ventas-layout{ grid-template-columns:1fr } .carrito{ order:2 } }

.product-grid{
  display:grid; gap:16px;
  grid-template-columns:repeat(auto-fit, minmax(280px, 1fr));
}
.pcard{
  display:flex; gap:14px; background:var(--panel);
  border:1px solid var(--border); border-radius:16px;
  padding:14px; min-height:130px; box-shadow:var(--shadow)
}
.pimg{ width:74px; height:74px; border-radius:12px; background:#0f172a; object-fit:cover }
.pmeta{ flex:1; display:flex; flex-direction:column; gap:8px }
.sku{ color:var(--muted); font-size:12px }
.pfoot{ display:flex; align-items:center; gap:10px }
.qty{ width:70px }

.badge{ background:#0b1223; border:1px solid var(--border); color:var(--muted); padding:2px 8px; border-radius:999px; font-size:12px }

.carrito{
  background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:14px; box-shadow:var(--shadow)
}
.tabla{ width:100%; border-collapse:collapse; margin-top:10px }
.tabla th,.tabla td{ border-bottom:1px solid var(--border); padding:8px; text-align:left }
.tabla .empty{ color:var(--muted); text-align:center }
.totales{ margin-top:12px; display:grid; gap:6px }
.totales div{ display:flex; align-items:center; justify-content:space-between }
.totales .total{ font-size:18px; font-weight:800 }

.atajos{ color:var(--muted); font-size:13px; margin-top:10px }

/* ====== Inventario ====== */
.inventario-form{ display:grid; gap:10px; grid-template-columns:repeat(6,minmax(0,1fr)); align-items:center; margin-bottom:14px }
.inventario-form .file-btn{ grid-column: span 2; border:1px dashed var(--border); color:var(--text); padding:10px 12px; border-radius:12px; cursor:pointer; text-align:center }
.inventario-form .btn{ grid-column: span 2 }
.inventario-list .inventario-head{ display:flex; gap:10px; align-items:center; margin:10px 0 }
.actions{ display:flex; gap:10px; margin-top:10px }
.logo-uploader{ display:flex; align-items:center; gap:14px; margin-top:8px }
.logo-preview{ width:120px; height:120px; object-fit:contain; background:#0f172a; border:1px solid var(--border); border-radius:12px; }

/* ====== Cards / misc ====== */
.card{ background:var(--panel); border:1px solid var(--border); border-radius:16px; padding:16px; margin:14px 0 }
.grid2{ display:grid; gap:10px; grid-template-columns:1fr 1fr }

/* ====== Sidebar collapse text hiding ====== */
.petpos-sidebar.collapsed .nav-link{ border-radius:10px }
.petpos-sidebar.collapsed .nav-link::after,
.petpos-sidebar.collapsed .nav-link span{ display:none }

/* ====== Emoji handling ====== */
.use-emojis .emoji-slot{ display:inline }
.emoji-slot{ display:none }

/* ====== Ticket print ====== */
@media print{
  @page{ size:58mm auto; margin:5mm }
  body{ background:#fff }
  .ticket{ font:12px/1.25 ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; color:#111 }
  .ticket .ticket-logo{ max-width:180px; height:auto; display:block; margin:0 auto 6px auto }
  .ticket hr{ border:none; border-top:1px dashed #999; margin:6px 0 }
}

/* Helpers */
.row{ display:flex; gap:10px; align-items:center }
.file-btn{ border:1px solid var(--border); background:#0b1223; color:var(--text); border-radius:12px; padding:10px 12px; cursor:pointer }
.placeholder{ color:var(--muted); background:#0b1223; border:1px dashed var(--border); padding:12px; border-radius:12px }
.stack{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
